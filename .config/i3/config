###################################################
#################### i3 config ####################
###################################################
# This configuration is set up to work with "h",  #
# "j", "k" and "l" as navigation keys. It's also  # 
# probably worth mentioning that I've remapped my #
# capslock key to work as win key (Mod4).         #
###################################################
###################################################

###################################################
#################### Behaviour ####################
###################################################

### Most important keys ###
set	$mod	Mod4
set	$left	h
set	$down	j
set	$up	k
set	$right	l

### Controlling windows ###
# changing focus
focus_follows_mouse		no
bindsym	$mod+$left		focus left
bindsym	$mod+$down		focus down
bindsym	$mod+$up		focus up
bindsym	$mod+$right		focus right
# moving focused windows (floating), once is too slow
bindsym	$mod+Shift+$left	move left; move left
bindsym	$mod+Shift+$down	move down; move down
bindsym	$mod+Shift+$up		move up; move up
bindsym	$mod+Shift+$right	move right; move right
# sticky windows
bindsym $mod+Shift+s			sticky toggle
# moving current workspace
bindsym	$mod+Shift+Prior	move workspace to output left
bindsym	$mod+Shift+Next		move workspace to output right

### Window containers ###
# change container layout or use toggle split to change split orientation
bindsym	$mod+t			layout tabbed
bindsym	$mod+s			layout toggle split
# enter fullscreen mode for the focused container
bindsym	F11			fullscreen
# switch focus between tiled and floating windows
bindsym	$mod+Tab		focus mode_toggle
# moving floating windows
# toggle floating
bindsym	$mod+Shift+f		floating toggle
floating_modifier $mod+Shift
floating_minimum_size		750 x 500
floating_maximum_size		1600 x 1000
# enter resize mode
bindsym	$mod+r			mode "resize"
# resize window (you can also use the mouse for that)
mode "resize" {
    bindsym	$left	resize shrink width 20 px or 10 ppt
    bindsym	$up	resize shrink height 20 px or 10 ppt
    bindsym	$down	resize grow height 20 px or 10 ppt
    bindsym	$right	resize grow width 20 px or 10 ppt

    bindsym	Return	mode "default"
    bindsym	Escape	mode "default"
}

### Workspaces ###
set	$workspace1	"1 tty"
set	$workspace2	"2 web"
set	$workspace3	"3 dev"
set	$workspace4	"4 doc"
set	$workspace5	"5 file"
set	$workspace6	"6 mail"
set	$workspace7	"7 gfx"
set	$workspace8	"8"
set	$workspace9	"9"
set	$workspace10	"10"
# switching to workspace
bindsym	$mod+1		workspace $workspace1
bindsym	$mod+2		workspace $workspace2
bindsym	$mod+3		workspace $workspace3
bindsym	$mod+4		workspace $workspace4
bindsym	$mod+5		workspace $workspace5
bindsym	$mod+6		workspace $workspace6
bindsym	$mod+7		workspace $workspace7
bindsym	$mod+8		workspace $workspace8
bindsym	$mod+9		workspace $workspace9
bindsym	$mod+0		workspace $workspace10
# moving windows to workspaces
bindsym	$mod+Shift+1	move container to workspace $workspace1
bindsym	$mod+Shift+2	move container to workspace $workspace2
bindsym	$mod+Shift+3	move container to workspace $workspace3
bindsym	$mod+Shift+4	move container to workspace $workspace4
bindsym	$mod+Shift+5	move container to workspace $workspace5
bindsym	$mod+Shift+6	move container to workspace $workspace6
bindsym	$mod+Shift+7	move container to workspace $workspace7
bindsym	$mod+Shift+8	move container to workspace $workspace8
bindsym	$mod+Shift+9	move container to workspace $workspace9
bindsym	$mod+Shift+0	move container to workspace $workspace10

### i3 related actions ###
# reload the configuration file
bindsym	$mod+Shift+c		reload
# restart i3
bindsym	$mod+Shift+r		restart
# lock screen
bindsym	$mod+Escape		exec --no-startup-id ~/bin/lock/lock
# exit i3
bindsym	$mod+Shift+Escape	exec --no-startup-id ~/bin/exit_menu
# change theme and reload
bindsym	$mod+Shift+t		exec --no-startup-id ~/bin/change_theme
# quit focused program
bindsym	$mod+q			kill
# switching input languages
bindsym $mod+Shift+d		exec --no-startup-id setxkbmap de
bindsym $mod+Shift+u		exec --no-startup-id setxkbmap us

### Scripts ###
# on startup
exec --no-startup-id		~/bin/startup
# on restart
exec_always --no-startup-id	~/bin/reload

### Programs ###
# launchers
bindsym	$mod+space		exec --no-startup-id dmenu_run -p run -nb "$inactive-bg-color" -nf "$text-color" -sb "$urgent-bg-color" -sf "$urgent-text-color" -fn "Hack:pixelsize=17"
bindsym	$mod+d			exec --no-startup-id i3-dmenu-desktop --dmenu="dmenu -p launch -nb '$inactive-bg-color' -nf '$text-color' -sb '$urgent-bg-color' -sf '$urgent-text-color' -fn 'Hack:pixelsize=17'"
# quick start programs
bindsym	$mod+Return		exec --no-startup-id xterm
bindsym	$mod+v			exec --no-startup-id xterm -e vim
bindsym	$mod+f			exec --no-startup-id i3-msg 'workspace $workspace5'; exec --no-startup-id xterm -e ranger
bindsym	$mod+i			exec --no-startup-id i3-msg 'workspace $workspace2'; exec --no-startup-id qutebrowser
bindsym $mod+m			exec --no-startup-id i3-msg 'workspace $workspace6'; exec --no-startup-id xterm -e mutt
bindsym $mod+p			exec --no-startup-id i3-msg 'workspace $workspace4'; exec --no-startup-id zathura
# default workspaces
assign	[class="Firefox"]	$workspace2
assign	[class="Eclipse"]	$workspace3
assign	[class="IntelliJ"]	$workspace3
assign	[class="Zathura"]	$workspace4
# system control
bindsym	XF86AudioRaiseVolume	exec --no-startup-id amixer -q set Master 10%+ unmute
bindsym	XF86AudioLowerVolume	exec --no-startup-id amixer -q set Master 10%- unmute
bindsym	XF86AudioMute		exec --no-startup-id amixer -q set Master toggle
bindsym XF86MonBrightnessUp	exec --no-startup-id xbacklight + 10
bindsym+ XF86MonBrightnessDown	exec --no-startup-id xbacklight - 10

###################################################
################### Appearance ####################
###################################################

### General appearance ###
# nice monospaced font
font pango:		Hack 10
# no title bars or borders
new_window		1pixel
hide_edge_borders	smart

### Colors ###
# load			variable		id		fallback
set_from_resource	$bg-color		color8		#000000
set_from_resource	$inactive-bg-color	color0 		#000000
set_from_resource	$text-color		color15		#E9ECE8
set_from_resource	$inactive-text-color	color7 		#444444
set_from_resource	$urgent-bg-color	color0 		#E56F38
set_from_resource	$urgent-text-color	color9 		#7B311E
# set
#			border			background		text			indicator
client.focused		$bg-color		$bg-color		$text-color		$bg-color
client.unfocused	$inactive-bg-color	$inactive-bg-color	$inactive-text-color	$inactive-bg-color
client.focused_inactive	$inactive-bg-color	$inactive-bg-color	$inactive-text-color	$inactive-bg-color
client.urgent		$urgent-bg-color	$urgent-bg-color	$urgent-text-color	$urgent-bg-color

### i3-bar ###
bar {
	status_command	i3blocks -c ~/.config/i3/i3blocks.conf
	position	top
	# mode hide
	colors {
		background	$inactive-bg-color
		separator	$bg-color
		statusline	$text-color
		# colors		border			background		text
		focused_workspace	$bg-color		$bg-color		$text-color
		inactive_workspace	$inactive-bg-color	$inactive-bg-color	$inactive-text-color
		urgent_workspace	$urgent-bg-color	$urgent-bg-color	$urgent-text-color
	}
}
